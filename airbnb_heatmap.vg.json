{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "width": "container",
    "height": 350,
    "autosize": {"contains": "padding", "resize": true, "type": "fit"},
    "title": {
        "text": "Price vs Review Score",
        "fontSize": "13",
        "font": "Montserrat"
    },
    "data": {
        "url": "data/cleansed_listings_dec18.csv"
    },
    "transform": [{
        "filter": {"and": [
          {"field": "review_scores_rating", "valid": true},
          {"field": "price", "valid": true}
        ]}
      },
      {
        "filter": "datum.review_scores_rating > 0 && datum.price < 4500"
    }],
    "mark": {
        "type": "rect",
        "tooltip": true
    },
    "encoding": {
        "x": {
          "bin": {"maxbins":20},
          "field": "review_scores_rating",
          "type": "quantitative"
        },
        "y": {
          "bin": {"maxbins": 50},
          "field": "price",
          "type": "quantitative"
        },
        "color": {
          "aggregate": "count",
          "type": "quantitative",
          "scale": {
            "domain": [0, 500, 1000, 2000, 5000, 10000, 15000]
        }
        }
      },
      "config": {
        "view": {
          "stroke": "transparent"
        }
      }
}